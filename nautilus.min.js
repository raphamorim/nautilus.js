!function(t,e){t.nautilus=new e}(this,function(){"use strict";function t(e,n){function r(){a.incr(n)}var i=e.origins,s=o.isArray(e.path),c=s?e.path:[],u=s?e.path[0]:e.path,h=i.length>0&&!o.isAbsoluteURL(u),l=h?i[0]+u:u,p=/\.css$/.test(l),f=document.createElement(p?"link":"script");f.type=p?"text/css":"text/javascript",f.onload=r,f.onreadystatechange=function(){"complete"===f.readyState&&r()},f.onerror=function(){console.warn("[nautilus] occurred an error while fetching",l),h&&t({origins:i.slice(1),path:u},n),c.length>1&&t({origins:i,path:c.slice(1)},n)},p?(f.rel="stylesheet",f.href=l):(f.async=!0,f.src=l),document.head.appendChild(f)}function e(t){n.apply(this,t)}function n(){var n=Array.prototype.slice.call(arguments),r=n[0];"string"==typeof r&&(r=[r]),o.isArray(n[1])&&(n[1]=e.bind(this,n.slice(1,n.length)));for(var c=a.push(r.length,n[1]),u=0;u<r.length;u++){var h=r[u];t({origins:s,path:i[h]||h},c)}}var r=Object.prototype.hasOwnProperty,i={},s=[],o={extends:function(t,e,n){for(var i in e)r.call(e,i)&&("constructor"===i&&t===global||(void 0===e[i]?delete t[i]:n&&void 0!==t[i]||(t[i]=e[i])));return t},merge:function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},isAbsoluteURL:function(t){return/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(t)},isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},a={queues:[],push:function(t,e){return this.queues.push({paths:t,loaded:0,exec:e}),this.queues.length-1},incr:function(t){var e=this.queues[t];e.loaded+=1,e.paths<=e.loaded&&"function"==typeof e.exec&&e.exec()},reset:function(){this.queues=[]}};return this.config=function(t){o.isArray(t.origins)&&(s=s.concat(t.origins)),"object"==typeof t.paths&&(i=o.merge(i,t.paths))},this.getConfig=function(){return{origins:s,paths:i}},this.resetConfig=function(){s=[],i={},a.reset()},o.extends(n.bind(this),this)});